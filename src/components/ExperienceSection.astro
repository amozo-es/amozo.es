---
// Static data for Alejandro Mozo's actual experience
const experienceData = [
  {
    id: 1,
    company: "Universidad de Málaga",
    position: "Profesor Sustituto Interino",
    period: "Diciembre 2018 – Actualidad",
    description: "Profesor Sustituto Universitario en el Departamento de Lenguajes y Ciencias de la Computación, área Lenguajes y Sistemas Informáticos (LSI).",
    responsibilities: [
      "Impartición de asignaturas en diferentes facultades y escuelas de la UMA",
      "Desarrollo de material docente y recursos educativos adaptados",
      "Evaluación del aprendizaje y seguimiento del progreso estudiantil",
      "Actualización constante de contenidos académicos y tecnológicos",
      "Participación en reuniones departamentales y mejora continua"
    ],
    achievements: [
      "Evaluación positiva por parte de los estudiantes",
      "Desarrollo de metodologías de enseñanza innovadoras",
      "Contribución a proyectos educativos interdisciplinarios",
      "Mantenimiento de alta calidad en la docencia universitaria"
    ],
    technologies: ["Moodle", "Microsoft Teams", "Sistemas de gestión académica", "Herramientas de evaluación online", "Plataformas educativas virtuales"],
    logo: "/abstract-tech-logo.png",
    featured: true
  },
  {
    id: 2,
    company: "Universidad de Málaga",
    position: "Investigador",
    period: "Abril – diciembre 2018",
    description: "Participación en proyectos de análisis de imágenes, inteligencia artificial y Big Data aplicada al análisis de negocio.",
    responsibilities: [
      "Investigación en análisis de imágenes mediante técnicas de IA",
      "Desarrollo de soluciones de Big Data para análisis de negocio",
      "Implementación de algoritmos de machine learning",
      "Colaboración en proyectos de investigación interdisciplinarios",
      "Análisis y procesamiento de grandes volúmenes de datos"
    ],
    achievements: [
      "Contribución a proyectos de investigación financiados",
      "Desarrollo de herramientas de análisis de imágenes",
      "Participación en publicaciones científicas",
      "Colaboración con grupos de investigación multidisciplinarios"
    ],
    technologies: ["Python", "TensorFlow", "OpenCV", "Apache Spark", "Machine Learning", "Computer Vision", "Big Data Analytics"],
    logo: "/abstract-tech-logo.png",
    featured: true
  },
  {
    id: 3,
    company: "Universidad de Málaga",
    position: "Becario de Investigación",
    period: "Noviembre 2013 – noviembre 2016",
    description: "Desarrollo de herramientas de adquisición y análisis de datos mediante Python y PHP. Creación de apps web con Yii2 y experiencia con CMS.",
    responsibilities: [
      "Desarrollo de herramientas de adquisición y análisis de datos",
      "Programación con Python y PHP para proyectos de investigación",
      "Creación de aplicaciones web utilizando framework Yii2",
      "Trabajo con CMS como WordPress, Joomla y plataformas e-commerce",
      "Mantenimiento y optimización de sistemas de datos"
    ],
    achievements: [
      "Desarrollo de herramientas utilizadas en múltiples proyectos de investigación",
      "Creación de aplicaciones web para gestión de datos",
      "Experiencia práctica con múltiples plataformas CMS",
      "Contribución a proyectos de investigación con desarrollo técnico"
    ],
    technologies: ["Python", "PHP", "Yii2", "WordPress", "Joomla", "Prestashop", "Magento", "MySQL", "Data Analysis"],
    logo: "/abstract-tech-logo.png",
    featured: true
  },
  {
    id: 4,
    company: "Autónomo / Freelance",
    position: "Desarrollador Web y Consultor Digital",
    period: "Abril 2013 – diciembre 2017",
    description: "Proyectos propios y por encargo: desarrollo web, juegos móviles, comercio electrónico, servicios de posicionamiento y analítica digital.",
    responsibilities: [
      "Desarrollo de sitios web y aplicaciones a medida para clientes",
      "Creación de juegos móviles para Android",
      "Implementación de plataformas de comercio electrónico",
      "Servicios de posicionamiento SEO y analítica digital",
      "Mantenimiento y optimización de sistemas existentes"
    ],
    achievements: [
      "Desarrollo exitoso de múltiples proyectos web para clientes diversos",
      "Lanzamiento de aplicaciones móviles en Google Play Store",
      "Mejora del posicionamiento SEO para clientes principales",
      "Implementación de tiendas online con resultados positivos"
    ],
    technologies: ["WordPress", "Prestashop", "Magento", "Android", "Java", "SEO/SEM", "Google Analytics", "PHP", "MySQL", "Yii2"],
    logo: "/abstract-startup-logo.png",
    featured: true
  },
  {
    id: 5,
    company: "Anderson Servicios Corporativos",
    position: "Director del Departamento de Informática",
    period: "Marzo 2004 – marzo 2011",
    description: "Responsable de la infraestructura informática del grupo: desarrollo de Intranets, administración de servidores, redes y sistemas de comunicación. Desarrollo de software.",
    responsibilities: [
      "Dirección estratégica del departamento de TI del grupo",
      "Desarrollo e implementación de sistemas Intranet corporativos",
      "Administración de servidores y sistemas de comunicación",
      "Gestión de redes y seguridad informática",
      "Desarrollo de software empresarial a medida"
    ],
    achievements: [
      "Modernización completa de la infraestructura TI del grupo",
      "Implementación de sistemas que mejoraron la productividad",
      "Optimización de costes operativos mediante tecnología",
      "Desarrollo de software específico para necesidades empresariales"
    ],
    technologies: ["Windows Server", "Linux", "Active Directory", "SQL Server", "PHP", "JavaScript", "Redes", "Seguridad Informática"],
    logo: "/abstract-tech-logo.png",
    featured: true
  },
  {
    id: 6,
    company: "Finalización de estudios y proyecto fin de carrera",
    position: "Investigación y Desarrollo",
    period: "Abril 2011 – enero 2013",
    description: "Periodo dedicado a la finalización de estudios de grado y proyecto fin de carrera.",
    responsibilities: [
      "Finalización de estudios de Ingeniería en Informática",
      "Desarrollo de proyecto fin de carrera",
      "Investigación en tecnologías emergentes",
      "Preparación para oposiciones académicas"
    ],
    achievements: [
      "Finalización exitosa de los estudios de grado",
      "Desarrollo de proyecto fin de carrera innovador",
      "Inicio de trayectoria en investigación"
    ],
    technologies: ["Investigación Académica", "Desarrollo Software", "Análisis de Sistemas"],
    logo: "/abstract-startup-logo.png"
  },
  {
    id: 7,
    company: "Euro Andalucía Eventos",
    position: "Marketing & Programador Web",
    period: "Julio 2002 – noviembre 2003",
    description: "Desarrollo de herramientas para Intranet y marketing. Diseño y programación web.",
    responsibilities: [
      "Desarrollo de herramientas Intranet para gestión interna",
      "Programación web para campañas de marketing",
      "Diseño y mantenimiento de sitios web corporativos",
      "Implementación de estrategias de marketing digital",
      "Gestión de contenido y actualización de plataformas"
    ],
    achievements: [
      "Creación de herramientas que optimizaron procesos internos",
      "Desarrollo de plataformas web para eventos",
      "Mejora en la comunicación mediante herramientas digitales",
      "Implementación exitosa de campañas de marketing online"
    ],
    technologies: ["HTML/CSS", "JavaScript", "PHP", "MySQL", "Marketing Digital", "Diseño Web", "CMS"],
    logo: "/abstract-startup-logo.png"
  },
  {
    id: 8,
    company: "Base de Datos Estudios & Análisis",
    position: "Director Técnico",
    period: "Junio 2000 – febrero 2002",
    description: "Desarrollo del portal educativo TIZA.net y otras webs empresariales. Administración de servidores y servicios.",
    responsibilities: [
      "Desarrollo y mantenimiento del portal educativo TIZA.net",
      "Programación de sitios web empresariales",
      "Administración de servidores y servicios técnicos",
      "Gestión de bases de datos y sistemas de información",
      "Soporte técnico y mantenimiento de plataformas"
    ],
    achievements: [
      "Desarrollo exitoso del portal educativo TIZA.net",
      "Creación de múltiples sitios web para clientes",
      "Implementación de sistemas de gestión de contenidos",
      "Mantenimiento óptimo de infraestructura técnica"
    ],
    technologies: ["ASP", "Visual Basic", "SQL Server", "HTML/CSS", "JavaScript", "Server Administration", "Database Management"],
    logo: "/abstract-startup-logo.png"
  },
  {
    id: 9,
    company: "Virtual Net (Beca COIE)",
    position: "Programador Web",
    period: "Marzo 2000 – junio 2000",
    description: "Programación con ColdFusion en entorno web mediante beca del Centro de Orientación e Información de Empleo.",
    responsibilities: [
      "Programación web utilizando ColdFusion",
      "Desarrollo de aplicaciones web dinámicas",
      "Integración de bases de datos con aplicaciones web",
      "Mantenimiento y actualización de sitios existentes"
    ],
    achievements: [
      "Adquisición de experiencia práctica en desarrollo web",
      "Aprendizaje de tecnologías de programación web",
      "Colaboración en proyectos reales para clientes",
      "Desarrollo de habilidades profesionales en entorno laboral"
    ],
    technologies: ["ColdFusion", "HTML", "JavaScript", "SQL", "Web Development", "Database Integration"],
    logo: "/abstract-startup-logo.png"
  },
  {
    id: 10,
    company: "Química Industrial Mediterránea",
    position: "Becario STAGE",
    period: "1999 – 2000",
    description: "Prácticas en programación en Visual Basic, mantenimiento de redes, programación web con ASP y administración de servidores.",
    responsibilities: [
      "Programación en Visual Basic para aplicaciones internas",
      "Mantenimiento de redes informáticas de la empresa",
      "Desarrollo web utilizando tecnología ASP",
      "Administración básica de servidores",
      "Soporte técnico a usuarios"
    ],
    achievements: [
      "Desarrollo de aplicaciones internas útiles para la empresa",
      "Experiencia práctica en mantenimiento de redes",
      "Creación de aplicaciones web para gestión interna",
      "Formación en administración de sistemas"
    ],
    technologies: ["Visual Basic", "ASP", "Network Administration", "Windows Server", "SQL Server", "IT Support"],
    logo: "/abstract-startup-logo.png"
  },
  {
    id: 11,
    company: "Química Industrial Mediterránea",
    position: "Becario COIE",
    period: "Noviembre 1998 – mayo 1999",
    description: "Tareas similares al periodo STAGE: soporte técnico, redes, programación básica en entorno empresarial.",
    responsibilities: [
      "Soporte técnico a usuarios de la empresa",
      "Mantenimiento básico de redes informáticas",
      "Programación básica y resolución de problemas técnicos",
      "Ayuda en administración de sistemas",
      "Colaboración en proyectos informáticos internos"
    ],
    achievements: [
      "Primera experiencia profesional en entorno informático",
      "Desarrollo de habilidades técnicas fundamentales",
      "Colaboración efectiva en equipo de trabajo",
      "Adquisición de conocimientos prácticos en IT"
    ],
    technologies: ["IT Support", "Basic Programming", "Windows Networking", "Hardware Maintenance", "Technical Troubleshooting"],
    logo: "/abstract-startup-logo.png"
  }
];

function groupExperiences(experiences) {
  const groups = [];
  let currentGroup = [];

  for (let i = 0; i < experiences.length; i++) {
    const exp = experiences[i];
    const nextExp = experiences[i + 1];

    currentGroup.push(exp);

    // If current item is parallel and next item is also parallel, continue grouping
    if (exp.parallel && nextExp?.parallel) {
      continue;
    } else {
      // End current group and start new one
      groups.push([...currentGroup]);
      currentGroup = [];
    }
  }

  return groups;
}

const experienceGroups = groupExperiences(experienceData);
const featuredExperiences = experienceData.filter((exp) => exp.featured);
const otherExperiences = experienceData.filter((exp) => !exp.featured);
---

<section id="experience" class="py-20">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold font-heading mb-4">Experiencia Profesional</h2>
      <p class="text-xl text-muted-foreground max-w-2xl mx-auto">
        Más de 20 años de experiencia en desarrollo web, investigación y docencia
      </p>
    </div>

    <!-- Featured Experiences -->
    <div class="max-w-6xl mx-auto mb-16">
      <h3 class="text-2xl font-bold mb-8 flex items-center gap-2">
        <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
        </svg>
        Experiencia Destacada
      </h3>
      <div class="space-y-8">
        {featuredExperiences.map((exp, index) => (
          <div
            key={exp.id}
            class="card hover:shadow-lg transition-all duration-300 hover:scale-[1.02] animate-slide-up rounded-lg border border-border bg-card p-6"
            style={`animation-delay: ${index * 0.2}s`}
          >
            <div class="mb-4">
              <div class="flex items-start gap-4">
                <div class="relative w-16 h-16 rounded-lg overflow-hidden bg-muted flex-shrink-0">
                  <img
                    src={exp.logo}
                    alt={`${exp.company} logo`}
                    class="w-full h-full object-cover"
                  />
                </div>
                <div class="flex-1">
                  <h3 class="text-xl font-semibold mb-2 flex items-center gap-2">
                    <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                    </svg>
                    {exp.position}
                  </h3>
                  <p class="text-lg font-semibold text-primary">{exp.company}</p>
                  <p class="text-muted-foreground">{exp.period}</p>
                </div>
              </div>
            </div>
            <div>
              <p class="text-muted-foreground leading-relaxed mb-4">{exp.description}</p>

              {exp.responsibilities && (
                <div class="mb-4">
                  <h4 class="font-semibold mb-2 text-sm text-foreground">Responsabilidades:</h4>
                  <ul class="list-disc list-inside text-sm text-muted-foreground space-y-1">
                    {exp.responsibilities.map((responsibility, idx) => (
                      <li key={idx}>{responsibility}</li>
                    ))}
                  </ul>
                </div>
              )}

              {exp.achievements && (
                <div class="mb-4">
                  <h4 class="font-semibold mb-2 text-sm text-foreground">Logros destacados:</h4>
                  <ul class="list-disc list-inside text-sm text-muted-foreground space-y-1">
                    {exp.achievements.map((achievement, idx) => (
                      <li key={idx}>{achievement}</li>
                    ))}
                  </ul>
                </div>
              )}

              <div class="flex flex-wrap gap-2">
                {exp.technologies.map((tech) => (
                  <span key={tech} class="px-2 py-1 bg-secondary text-secondary-foreground rounded-md text-sm">
                    {tech}
                  </span>
                ))}
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>

    <!-- Other Experiences -->
    {otherExperiences.length > 0 && (
      <div class="max-w-6xl mx-auto">
        <h3 class="text-2xl font-bold mb-8">Otras Experiencias</h3>
        <div class="space-y-8">
          {otherExperiences.map((exp, index) => (
            <div
              key={exp.id}
              class="card hover:shadow-lg transition-all duration-300 hover:scale-[1.02] animate-slide-up rounded-lg border border-border bg-card p-6"
              style={`animation-delay: ${(featuredExperiences.length + index) * 0.2}s`}
            >
              <div class="mb-4">
                <div class="flex items-start gap-4">
                  <div class="relative w-16 h-16 rounded-lg overflow-hidden bg-muted flex-shrink-0">
                    <img
                      src={exp.logo}
                      alt={`${exp.company} logo`}
                      class="w-full h-full object-cover"
                    />
                  </div>
                  <div class="flex-1">
                    <h3 class="text-xl font-semibold mb-2 flex items-center gap-2">
                      <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                      </svg>
                      {exp.position}
                    </h3>
                    <p class="text-lg font-semibold text-primary">{exp.company}</p>
                    <p class="text-muted-foreground">{exp.period}</p>
                  </div>
                </div>
              </div>
              <div>
                <p class="text-muted-foreground leading-relaxed mb-4">{exp.description}</p>
                <div class="flex flex-wrap gap-2">
                  {exp.technologies.map((tech) => (
                    <span key={tech} class="px-2 py-1 bg-secondary text-secondary-foreground rounded-md text-sm">
                      {tech}
                    </span>
                  ))}
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    )}
  </div>
</section>